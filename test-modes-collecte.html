<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Modes de Collecte PCMA</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-6xl mx-auto">
            <div class="mb-8">
                <h1 class="text-3xl font-bold text-gray-900">üìã Test - Nouveau PCMA</h1>
                <p class="text-gray-600 mt-2">Test de l'interface des modes de collecte et de la console vocale</p>
            </div>

            <!-- Modes de collecte -->
            <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
                <div class="px-6 py-4 border-b border-gray-200">
                    <h2 class="text-xl font-semibold text-gray-800">Modes de collecte</h2>
                </div>
                
                <div class="p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- Mode Manuel -->
                        <button type="button" id="mode-manuel" class="mode-selector active bg-blue-600 text-white p-4 rounded-lg hover:bg-blue-700 transition-colors">
                            <div class="text-center">
                                <svg class="w-8 h-8 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                </svg>
                                <h3 class="font-semibold">Mode Manuel</h3>
                                <p class="text-sm opacity-90">Saisie directe au clavier</p>
                            </div>
                        </button>

                        <!-- Mode Vocal -->
                        <button type="button" id="mode-vocal" class="mode-selector bg-gray-100 text-gray-700 p-4 rounded-lg hover:bg-gray-200 transition-colors">
                            <div class="text-center">
                                <svg class="w-8 h-8 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
                                </svg>
                                <h3 class="font-semibold">Mode Vocal</h3>
                                <p class="text-sm opacity-90">Reconnaissance vocale intelligente</p>
                            </div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Console Vocale (visible uniquement en mode vocal) -->
            <div id="console-vocale" class="hidden bg-green-50 border border-green-200 rounded-lg p-6 mb-8">
                <div class="flex items-center mb-4">
                    <svg class="w-6 h-6 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
                    </svg>
                    <h2 class="text-xl font-semibold text-green-800">üé§ Console Vocale Intelligente</h2>
                </div>
                
                <div class="space-y-4">
                    <!-- Instructions vocales -->
                    <div class="bg-white border border-green-300 rounded-lg p-4">
                        <h3 class="text-lg font-semibold text-green-700 mb-3">üìã Commandes vocales disponibles :</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                            <div>
                                <p class="font-semibold text-green-600">üéØ Identit√© du joueur :</p>
                                <ul class="list-disc list-inside text-green-700 ml-2">
                                    <li>"Le joueur s'appelle [nom], il a [√¢ge] ans, il joue [position], il joue √† [club]"</li>
                                    <li>"ID FIFA CONNECT" ‚Üí Remplit automatiquement tous les champs d'identit√©</li>
                                </ul>
                            </div>
                            <div>
                                <p class="font-semibold text-green-600">üîç Exemples :</p>
                                <ul class="list-disc list-inside text-green-700 ml-2">
                                    <li>"Le joueur s'appelle Ali Jebali, il a 28 ans, il joue attaquant, il joue √† l'AS Gab√®s"</li>
                                    <li>"ID FIFA CONNECT"</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Contr√¥les d'enregistrement -->
                    <div class="flex items-center justify-center space-x-4">
                        <button 
                            type="button" 
                            id="start-recording-btn"
                            class="px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold"
                        >
                            üé§ Commencer l'enregistrement
                        </button>
                        <button 
                            type="button" 
                            id="stop-recording-btn"
                            class="px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold hidden"
                        >
                            ‚èπÔ∏è Arr√™ter l'enregistrement
                        </button>
                    </div>

                    <!-- Statut et r√©sultats -->
                    <div id="voice-status" class="text-center text-green-700 font-medium">
                        Pr√™t √† √©couter - Cliquez sur "Commencer l'enregistrement"
                    </div>

                    <!-- R√©sultats de reconnaissance vocale -->
                    <div id="voice-results" class="hidden bg-white border border-green-300 rounded-lg p-4">
                        <h3 class="text-lg font-semibold text-green-700 mb-3">üéØ Donn√©es extraites :</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-green-700 mb-1">Nom du joueur</label>
                                <input type="text" id="voice_player_name" class="w-full px-3 py-2 border border-green-300 rounded-md bg-green-50" readonly>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-green-700 mb-1">√Çge</label>
                                <input type="text" id="voice_age" class="w-full px-3 py-2 border border-green-300 rounded-md bg-green-50" readonly>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-green-700 mb-1">Position</label>
                                <input type="text" id="voice_position" class="w-full px-3 py-2 border border-green-300 rounded-md bg-green-50" readonly>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-green-700 mb-1">Club</label>
                                <input type="text" id="voice_club" class="w-full px-3 py-2 border border-green-300 rounded-md bg-green-50" readonly>
                            </div>
                        </div>
                    </div>

                    <!-- Informations du joueur trouv√© -->
                    <div id="player-info-panel" class="hidden bg-blue-50 border border-blue-300 rounded-lg p-4">
                        <h3 class="text-lg font-semibold text-blue-700 mb-3">üë§ Informations du joueur trouv√© :</h3>
                        <div id="player-info-content" class="text-sm text-blue-700"></div>
                    </div>
                </div>
            </div>

            <!-- Formulaire Principal (toujours visible) -->
            <div id="formulaire-principal" class="form-section">
                <div class="bg-white rounded-lg shadow-md overflow-hidden">
                    <div class="px-6 py-4 border-b border-gray-200">
                        <h2 class="text-xl font-semibold text-gray-800">Formulaire Principal PCMA</h2>
                    </div>
                    
                    <div class="p-6 space-y-6">
                        <div class="text-center text-gray-500">
                            <p>üìù Ceci est le formulaire principal qui reste toujours visible</p>
                            <p>Les donn√©es vocales seront automatiquement remplies ici</p>
                        </div>
                        
                        <!-- Champs d'identit√© du joueur -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nom du Joueur</label>
                                <input type="text" id="main_player_name" class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="Rempli automatiquement par la voix">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">√Çge</label>
                                <input type="text" id="main_age" class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="Rempli automatiquement par la voix">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Position</label>
                                <input type="text" id="main_position" class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="Rempli automatiquement par la voix">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Club</label>
                                <input type="text" id="main_club" class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="Rempli automatiquement par la voix">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Panneau de debug -->
            <div class="mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-yellow-800 mb-3">üêõ Panneau de Debug</h3>
                <div class="space-y-2">
                    <button onclick="testModeManuel()" class="px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 transition-colors">
                        üß™ Test Mode Manuel
                    </button>
                    <button onclick="testModeVocal()" class="px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 transition-colors">
                        üß™ Test Mode Vocal
                    </button>
                    <button onclick="testConsoleVocale()" class="px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 transition-colors">
                        üß™ Test Console Vocale
                    </button>
                    <button onclick="simulerDonneesVocales()" class="px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 transition-colors">
                        üéØ Simuler Donn√©es Vocales
                    </button>
                    <button onclick="testIdFifaConnect()" class="px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors">
                        üéØ Test ID FIFA CONNECT
                    </button>
                    <button onclick="testValidationIntelligente()" class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors">
                        üß† Test Validation Intelligente
                    </button>
                </div>
                <div id="debug-output" class="mt-4 p-3 bg-white border border-yellow-300 rounded-md text-sm text-gray-700"></div>
            </div>
        </div>
    </div>

    <script>
        // ========================================
        // üéØ GESTION DES MODES DE COLLECTE
        // ========================================
        
        // Initialisation des modes de collecte
        function initModesCollecte() {
            console.log('üéØ Initialisation des modes de collecte...');
            
            const modeManuel = document.getElementById('mode-manuel');
            const modeVocal = document.getElementById('mode-vocal');
            const consoleVocale = document.getElementById('console-vocale');
            
            if (!modeManuel || !modeVocal || !consoleVocale) {
                console.error('‚ùå √âl√©ments des modes de collecte non trouv√©s');
                return;
            }
            
            // Mode Manuel par d√©faut (actif)
            setModeManuel();
            
            // Event listeners pour les modes
            modeManuel.addEventListener('click', setModeManuel);
            modeVocal.addEventListener('click', setModeVocal);
            
            console.log('‚úÖ Modes de collecte initialis√©s');
        }
        
        // Activer le mode Manuel
        function setModeManuel() {
            console.log('üéØ Activation du mode Manuel');
            
            const modeManuel = document.getElementById('mode-manuel');
            const modeVocal = document.getElementById('mode-vocal');
            const consoleVocale = document.getElementById('console-vocale');
            
            // Mise √† jour des boutons
            modeManuel.classList.remove('bg-gray-100', 'text-gray-700');
            modeManuel.classList.add('bg-blue-600', 'text-white');
            
            modeVocal.classList.remove('bg-blue-600', 'text-white');
            modeVocal.classList.add('bg-gray-100', 'text-gray-700');
            
            // Masquer la console vocale
            consoleVocale.classList.add('hidden');
            
            console.log('‚úÖ Mode Manuel activ√© - Console vocale masqu√©e');
            debugLog('‚úÖ Mode Manuel activ√© - Console vocale masqu√©e');
        }
        
        // Activer le mode Vocal
        function setModeVocal() {
            console.log('üéØ Activation du mode Vocal');
            
            const modeManuel = document.getElementById('mode-manuel');
            const modeVocal = document.getElementById('mode-vocal');
            const consoleVocale = document.getElementById('console-vocale');
            
            // Mise √† jour des boutons
            modeVocal.classList.remove('bg-gray-100', 'text-gray-700');
            modeVocal.classList.add('bg-blue-600', 'text-white');
            
            modeManuel.classList.remove('bg-blue-600', 'text-white');
            modeManuel.classList.add('bg-gray-100', 'text-gray-700');
            
            // Afficher la console vocale
            consoleVocale.classList.remove('hidden');
            
            console.log('‚úÖ Mode Vocal activ√© - Console vocale affich√©e');
            debugLog('‚úÖ Mode Vocal activ√© - Console vocale affich√©e');
        }
        
        // ========================================
        // üé§ GESTION DE LA CONSOLE VOCALE
        // ========================================
        
        // Initialisation de la console vocale
        function initConsoleVocale() {
            console.log('üé§ Initialisation de la console vocale...');
            
            const startBtn = document.getElementById('start-recording-btn');
            const stopBtn = document.getElementById('stop-recording-btn');
            const voiceStatus = document.getElementById('voice-status');
            const voiceResults = document.getElementById('voice-results');
            
            if (!startBtn || !stopBtn || !voiceStatus || !voiceResults) {
                console.error('‚ùå √âl√©ments de la console vocale non trouv√©s');
                return;
            }
            
            // Event listeners pour les boutons d'enregistrement
            startBtn.addEventListener('click', startVoiceRecording);
            stopBtn.addEventListener('click', stopVoiceRecording);
            
            console.log('‚úÖ Console vocale initialis√©e');
        }
        
        // D√©marrer l'enregistrement vocal
        function startVoiceRecording() {
            console.log('üé§ D√©marrage de l\'enregistrement vocal...');
            
            const startBtn = document.getElementById('start-recording-btn');
            const stopBtn = document.getElementById('stop-recording-btn');
            const voiceStatus = document.getElementById('voice-status');
            
            // Mise √† jour de l'interface
            startBtn.classList.add('hidden');
            stopBtn.classList.remove('hidden');
            voiceStatus.textContent = 'üé§ Enregistrement en cours...';
            voiceStatus.className = 'text-center text-red-600 font-medium';
            
            console.log('‚úÖ Enregistrement vocal d√©marr√©');
            debugLog('üé§ Enregistrement vocal d√©marr√© (simulation)');
        }
        
        // Arr√™ter l'enregistrement vocal
        function stopVoiceRecording() {
            console.log('üé§ Arr√™t de l\'enregistrement vocal...');
            
            const startBtn = document.getElementById('start-recording-btn');
            const stopBtn = document.getElementById('stop-recording-btn');
            const voiceStatus = document.getElementById('voice-status');
            
            // Mise √† jour de l'interface
            stopBtn.classList.add('hidden');
            startBtn.classList.remove('hidden');
            voiceStatus.textContent = '‚è∏Ô∏è Enregistrement arr√™t√©';
            voiceStatus.className = 'text-center text-orange-600 font-medium';
            
            console.log('‚úÖ Enregistrement vocal arr√™t√©');
            debugLog('‚è∏Ô∏è Enregistrement vocal arr√™t√©');
        }
        
        // Afficher les r√©sultats vocaux
        function displayVoiceResults(data) {
            console.log('üéØ Affichage des r√©sultats vocaux:', data);
            
            const voiceResults = document.getElementById('voice-results');
            const voicePlayerName = document.getElementById('voice_player_name');
            const voiceAge = document.getElementById('voice_age');
            const voicePosition = document.getElementById('voice_position');
            const voiceClub = document.getElementById('voice_club');
            
            if (!voiceResults || !voicePlayerName || !voiceAge || !voicePosition || !voiceClub) {
                console.error('‚ùå √âl√©ments d\'affichage des r√©sultats non trouv√©s');
                return;
            }
            
            // Remplir les champs vocaux
            if (data.player_name) voicePlayerName.value = data.player_name;
            if (data.age) voiceAge.value = data.age;
            if (data.position) voicePosition.value = data.position;
            if (data.club) voiceClub.value = data.club;
            
            // Afficher la section des r√©sultats
            voiceResults.classList.remove('hidden');
            
            // Mettre √† jour le statut
            const voiceStatus = document.getElementById('voice-status');
            voiceStatus.textContent = '‚úÖ Donn√©es extraites avec succ√®s !';
            voiceStatus.className = 'text-center text-green-600 font-medium';
            
            console.log('‚úÖ R√©sultats vocaux affich√©s');
            debugLog('‚úÖ R√©sultats vocaux affich√©s: ' + JSON.stringify(data));
        }
        
        // ========================================
        // üß™ FONCTIONS DE TEST
        // ========================================
        
        function testModeManuel() {
            debugLog('üß™ Test du mode Manuel...');
            setModeManuel();
        }
        
        function testModeVocal() {
            debugLog('üß™ Test du mode Vocal...');
            setModeVocal();
        }
        
        function testConsoleVocale() {
            debugLog('üß™ Test de la console vocale...');
            setModeVocal();
            setTimeout(() => {
                startVoiceRecording();
                setTimeout(() => {
                    stopVoiceRecording();
                }, 2000);
            }, 500);
        }
        
        function simulerDonneesVocales() {
            debugLog('üéØ Simulation de donn√©es vocales...');
            
            const donneesSimulees = {
                player_name: 'Ali Jebali',
                age: 28,
                position: 'Attaquant',
                club: 'l\'AS Gab√®s'
            };
            
            // Afficher dans la console vocale
            displayVoiceResults(donneesSimulees);
            
            // Remplir le formulaire principal
            const mainPlayerName = document.getElementById('main_player_name');
            const mainAge = document.getElementById('main_age');
            const mainPosition = document.getElementById('main_position');
            const mainClub = document.getElementById('main_club');
            
            if (mainPlayerName) mainPlayerName.value = donneesSimulees.player_name;
            if (mainAge) mainAge.value = donneesSimulees.age;
            if (mainPosition) mainPosition.value = donneesSimulees.position;
            if (mainClub) mainClub.value = donneesSimulees.club;
            
            debugLog('‚úÖ Donn√©es simul√©es appliqu√©es au formulaire principal');
        }
        
        function testIdFifaConnect() {
            debugLog('üéØ Test de la commande ID FIFA CONNECT...');
            
            // Simuler la d√©tection de la commande
            const donneesCommande = {
                command: 'fifa_connect_search',
                confidence: 'very_high'
            };
            
            debugLog('üéØ Commande "ID FIFA CONNECT" d√©tect√©e !');
            
            // Afficher le statut de recherche
            const voiceStatus = document.getElementById('voice-status');
            if (voiceStatus) {
                voiceStatus.textContent = 'üîç Recherche automatique en cours...';
                voiceStatus.className = 'text-center text-blue-600 font-medium';
            }
            
            // Simuler la recherche
            setTimeout(() => {
                // Donn√©es simul√©es d'un joueur trouv√©
                const playerData = {
                    id: 88,
                    name: 'Ali Jebali',
                    fifa_connect_id: 'TUN_001',
                    position: 'Milieu offensif',
                    age: 24,
                    club: 'AS Gab√®s',
                    nationality: 'Tunisie',
                    jersey_number: 10,
                    overall_rating: 78,
                    potential_rating: 82
                };
                
                debugLog('‚úÖ Joueur trouv√© dans la base: ' + JSON.stringify(playerData));
                
                // Afficher les r√©sultats
                displayVoiceResults({
                    player_name: playerData.name,
                    age: playerData.age,
                    position: playerData.position,
                    club: playerData.club
                });
                
                // Remplir le formulaire principal
                const mainPlayerName = document.getElementById('main_player_name');
                const mainAge = document.getElementById('main_age');
                const mainPosition = document.getElementById('main_position');
                const mainClub = document.getElementById('main_club');
                
                if (mainPlayerName) mainPlayerName.value = playerData.name;
                if (mainAge) mainAge.value = playerData.age;
                if (mainPosition) mainPosition.value = playerData.position;
                if (mainClub) mainClub.value = playerData.club;
                
                // Mettre √† jour le statut
                if (voiceStatus) {
                    voiceStatus.textContent = '‚úÖ Joueur trouv√© ! Donn√©es remplies automatiquement';
                    voiceStatus.className = 'text-center text-green-600 font-medium';
                }
                
                debugLog('‚úÖ Commande ID FIFA CONNECT test√©e avec succ√®s !');
            }, 2000);
        }
        
        function debugLog(message) {
            const debugOutput = document.getElementById('debug-output');
            if (debugOutput) {
                const timestamp = new Date().toLocaleTimeString();
                debugOutput.innerHTML += `<div>[${timestamp}] ${message}</div>`;
                debugOutput.scrollTop = debugOutput.scrollHeight;
            }
        }
        
        // ========================================
        // üöÄ INITIALISATION
        // ========================================
        
        // Initialiser tous les composants
        function initAll() {
            console.log('üöÄ Initialisation compl√®te de l\'application...');
            
            // Initialiser les modes de collecte
            initModesCollecte();
            
            // Initialiser la console vocale
            initConsoleVocale();
            
            console.log('‚úÖ Application initialis√©e avec succ√®s');
            debugLog('üöÄ Application initialis√©e avec succ√®s');
        }
        
        // üß† FONCTION DE TEST DE LA VALIDATION INTELLIGENTE
        function testValidationIntelligente() {
            debugLog('üß† Test de la validation intelligente...');
            
            // Simuler des donn√©es vocales avec des incoh√©rences
            const voiceData = {
                player_name: 'Ali Jebali',
                age: 30, // Diff√©rent de la base (24)
                position: 'Attaquant', // Diff√©rent de la base (Milieu offensif)
                club: 'Club Sportif Sfax' // Diff√©rent de la base (AS Gab√®s)
            };
            
            // Donn√©es de la base (simul√©es)
            const databaseData = {
                id: 88,
                name: 'Ali Jebali',
                fifa_connect_id: 'TUN_001',
                position: 'Milieu offensif',
                age: 24,
                club: 'AS Gab√®s',
                nationality: 'Tunisie'
            };
            
            debugLog('üé§ Donn√©es vocales: ' + JSON.stringify(voiceData));
            debugLog('üíæ Donn√©es base: ' + JSON.stringify(databaseData));
            
            // Simuler la validation intelligente
            setTimeout(() => {
                debugLog('üîç Lancement de la validation intelligente...');
                
                // Simuler la d√©tection d'incoh√©rences
                const inconsistencies = [
                    {
                        field: '√¢ge',
                        voice: 30,
                        database: 24,
                        type: 'age_mismatch'
                    },
                    {
                        field: 'position',
                        voice: 'Attaquant',
                        database: 'Milieu offensif',
                        type: 'position_mismatch',
                        similarity: { score: 0.3 }
                    },
                    {
                        field: 'club',
                        voice: 'Club Sportif Sfax',
                        database: 'AS Gab√®s',
                        type: 'club_mismatch',
                        similarity: { score: 0.1 }
                    }
                ];
                
                debugLog('‚ö†Ô∏è Incoh√©rences d√©tect√©es: ' + JSON.stringify(inconsistencies));
                
                // Simuler l'affichage du popup de confirmation
                debugLog('üéØ Affichage du popup de confirmation...');
                
                // Afficher un message simul√© du popup
                const voiceStatus = document.getElementById('voice-status');
                if (voiceStatus) {
                    voiceStatus.textContent = '‚ö†Ô∏è Incoh√©rences d√©tect√©es - Popup de confirmation affich√©';
                    voiceStatus.className = 'text-center text-blue-600 font-medium';
                }
                
                // Simuler la confirmation
                setTimeout(() => {
                    debugLog('üîê Confirmation simul√©e...');
                    
                    if (voiceStatus) {
                        voiceStatus.textContent = '‚úÖ Identit√© confirm√©e - Donn√©es valid√©es';
                        voiceStatus.className = 'text-center text-green-600 font-medium';
                    }
                    
                    // Remplir avec les donn√©es confirm√©es de la base
                    displayVoiceResults({
                        player_name: databaseData.name,
                        age: databaseData.age,
                        position: databaseData.position,
                        club: databaseData.club
                    });
                    
                    debugLog('‚úÖ Validation intelligente test√©e avec succ√®s !');
                }, 2000);
                
            }, 1000);
        }
        
        // D√©marrer l'initialisation quand le DOM est pr√™t
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initAll);
        } else {
            initAll();
        }
    </script>
</body>
</html>
